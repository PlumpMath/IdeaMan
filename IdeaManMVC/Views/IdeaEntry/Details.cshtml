@using Microsoft.AspNet.Identity
@model IdeaManMVC.Models.IdeaEntry

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>
<div class="row">
    <div class="col-md-7 col-lg-7">
        <h4>@Html.DisplayFor(model => model.Title)</h4>
        <hr/>
        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.Title)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Title)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.ShortDescription)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.ShortDescription)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.FullText)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.FullText)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Category)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Category)
            </dd>
            <dt>
                Total Votes Obtained
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Votes.Count)
            </dd>
        </dl>
    </div>
    <div class="col-md-2 col-lg-2">
        <div class="btn-group">
            @if (Model.Creator.Id == User.Identity.GetUserId())
            {
                @Html.ActionLink("Edit", "Edit", new {id = Model.Id}, new {@class = "btn btn-warning"})
                @Html.ActionLink("Delete", "Delete", new {id = Model.Id}, new {@class = "btn btn-danger"})
            }
            else if (User.IsInRole("Moderator"))
            {
                @Html.ActionLink("Delete", "Delete", new {id = Model.Id}, new {@class = "btn btn-danger"})
            }
            @Html.ActionLink("Back to List", "Index", null, new {@class = "btn btn-primary"})
        </div>
    </div>
</div>
<hr/>
<div>
    @Html.Partial("~/Views/Comments/CommentsForIdea.cshtml", Model)
</div>